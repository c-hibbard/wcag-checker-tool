<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WCAG 2.2 Accessibility Checker</title>
  <meta name="description" content="Lightweight WCAG 2.2 checker you can run on any page—bookmarklet or browser extension." />
  <style>
    :root { --max: 880px; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      line-height: 1.5; margin: 0; color: #111;
      -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
    }
    header, main, footer { max-width: var(--max); margin: 0 auto; padding: 1.25rem; }
    header { padding-top: 2.25rem; }
    h1 { font-size: clamp(1.6rem, 1.6rem + 1.4vw, 2.4rem); margin: 0 0 .5rem; }
    .lede { color: #444; margin: 0 0 1rem; }
    .cta-row { display: flex; gap: .75rem; flex-wrap: wrap; margin: 1rem 0 1.25rem; }
    .btn, .link-btn {
      display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
      padding: .65rem .9rem; border-radius: .55rem; text-decoration: none; font-weight: 600;
      border: 1px solid #ddd; background: #fff;
    }
    .btn-primary { background: #111; color: #fff; border-color: #111; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .card {
      border: 1px solid #e6e6e6; border-radius: .75rem; padding: 1rem; background: #fafafa;
    }
    footer { color: #555; }
    .muted { color: #666; font-size: .95rem; }
    .kbd { border: 1px solid #ccc; padding: .05rem .35rem; border-radius: .35rem; background:#f5f5f5; }
  </style>
</head>
<body>
  <header>
    <h1>WCAG 2.2 Accessibility Checker</h1>
    <p class="lede">A tiny, browser-based tool that flags <strong>missing <code>alt</code></strong>, <strong>low contrast</strong>, and <strong>inputs without labels</strong>. No install. No data leaves your browser.</p>

    <div class="cta-row" role="group" aria-label="Primary actions">
      <!-- 1) Bookmarklet button (self-contained) -->
      <a
        class="btn btn-primary"
        role="button"
        id="run-checker-bookmarklet"
        href="javascript:(()=>{try{window.__wcagCheckerLoaded?window.__wcagChecker.run():(()=>{const s=document.createElement('script');s.src='https://c-hibbard.github.io/wcag-checker-tool/dist/checker.min.js';s.onload=()=>{window.__wcagCheckerLoaded=true;window.__wcagChecker.run();};document.documentElement.appendChild(s)})()}catch(e){alert('WCAG Checker: failed to load. See console.');console.error(e);}})();"
        aria-label="Run the WCAG checker on this page"
      >Run Checker</a>

      <!-- 2) Open the live tool page itself -->
      <a class="btn link-btn" href="./index.html" aria-label="Open the checker app page">Open the checker</a>

      <!-- 3) Demo that auto-runs -->
      <a class="btn link-btn" href="./index.html?demo=1&autorun=1" aria-label="Open demo page with checker auto-run">Run demo</a>

      <!-- 4) Repo -->
      <a class="btn link-btn" href="https://github.com/c-hibbard/wcag-checker-tool" aria-label="Open GitHub repository">GitHub</a>
    </div>

    <p class="muted">Tip: Right-click “Run Checker” → <span class="kbd">Bookmark link</span> to create the bookmarklet.</p>
    <noscript><p><strong>Enable JavaScript</strong> to run the checker.</p></noscript>
  </header>

  <main>
    <section class="card" aria-labelledby="howto">
      <h2 id="howto">How to use</h2>
      <ol>
        <li><strong>Bookmark the “Run Checker” button</strong> above (right-click → Bookmark link).</li>
        <li>Navigate to any site and click your bookmark to scan.</li>
        <li>Or open the demo link and it’ll auto-run.</li>
      </ol>
      <p class="muted">Nothing is uploaded. All analysis runs locally in your browser.</p>
    </section>

    <section aria-labelledby="whatchecks">
      <h2 id="whatchecks">What it checks</h2>
      <ul>
        <li>Images missing <code>alt</code></li>
        <li>Low text/background contrast</li>
        <li>Inputs without associated labels</li>
      </ul>
    </section>

    <section aria-labelledby="ext">
      <h2 id="ext">Prefer an extension?</h2>
      <p>Load the extension for Chrome/Edge/Firefox (unpacked or store build) and map a keyboard shortcut to trigger checks on any page.</p>
    </section>
  </main>

  <footer>
    <p>
      <a href="https://github.com/c-hibbard/wcag-checker-tool">Improve this page</a> •
      <a href="./privacy.html">Privacy</a>
    </p>
    <p class="muted">© <span id="y"></span> WCAG Checker</p>
    <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  </footer>
</body>
</html>
